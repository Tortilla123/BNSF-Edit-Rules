<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>RER EDIT RULES</title>

    <!-- Bootstrap CSS CDN -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css"
        integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">

    <!--  Bootstrap Table CSS for the table -->
    <link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.16.0/dist/bootstrap-table.min.css">

    <!-- FontAwesome Icons-->
    <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/src/css/sidebar.css" rel="stylesheet" type="text/css">

</head>

<body>

    <div id="wrapper">

        <!-- Sidebar -->
        <div id="sidebar-wrapper">
            <ul class="sidebar-nav">
                <li class="sidebar-brand">
                    <h3>
                        Search Criteria
                    </h3>
                </li>

                <!--Drop down menu to select which data table to display-->
                <li>
                    <div class="dropdown">

                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Select Rule
                        </button>


                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <option class="dropdown-item" id="cdi-override">CDI OVERRIDE EDITS</option>
                            <option class="dropdown-item" id="enforce-fleet">ENFORCE FLEET LIMIT EDITS</option>
                        </div>

                    </div>
                </li>
                
                <!--Search the table-->
                <li>
                    <input class = "form-control" id="filter" type = "text" placeholder = "Search...">
                </li>

            </ul>
        </div>
        <!-- /#sidebar-wrapper -->

        <!-- Page Content -->
        <div id="page-content-wrapper">

            <!--Top of page header-->
            <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
                <button class="btn btn-info" id="menu-toggle"><i class="icon-angle-left"></i> </button>
            </nav>

            <div class="container-fluid" style="overflow-x:auto;">

                <!--Table to display data-->
                <table class="table table-striped" >
                    <!--Table Name-->
                    <div id="addTableTitleHere"></div>
                    
                    <thead >
                        <tr>
                            <th data-field="RuleLevel"> Rule Level </th>
                            <th data-field="CustomerName"> Customer Name </th>
                            <th data-field="CityName"> City Name </th>
                            <th data-field="State"> State </th>
                            <th data-field="Fleet"> Fleet </th>
                            <th data-field="Type"> Type </th>
                            <th data-field="Overage"> Overage </th>
                            <th data-field="Maximum"> Maximum </th>
                            <th data-field="LstMaintId"> Lst Maint Id </th>
                            <th data-field="LstMaintTS"> Lst Maint TS </th>
                            <th data-field="Comments"> Comments</th>
                            <th> Actions </th>
                        </tr>
                    </thead>


                    <tbody id = "tableBody">
                        <tr>
                           
                        </tr>
                    </tbody>
                </table>

            </div>
        </div>
        <!-- /#page-content-wrapper -->

    </div>
    <!-- /#wrapper -->

    <!--JQuery-->
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- Popper.JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"
        integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ"
        crossorigin="anonymous"></script>
    <!-- Bootstrap JS -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"
        integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm"
        crossorigin="anonymous"></script>
    <!--File for Bootstrap table-->
    <script src="https://unpkg.com/bootstrap-table@1.16.0/dist/bootstrap-table.min.js"> </script>
  

    <!-- Sidebar Toggle Script -->
    <script>
        $("#menu-toggle").click(function (e) {
            e.preventDefault();
            $("#wrapper").toggleClass("toggled");
            $(this).find("i").toggleClass("icon-angle-right");
        });
    </script>

    <!--Import the data from JS Json file-->
    <script type="text/javascript" src="data.js"> </script>

    <!-- JS Display data to table-->
    <script type='text/javascript'>

        //Populate CDI OVERRIDE EDITS Table
        $("#cdi-override").click(function (e) {

            //Clears table before populating
            $('table').bootstrapTable('destroy');

            // Adds the title of the table to table
            document.getElementById("addTableTitleHere").innerHTML = "<h3 style='display: flex; justify-content: space-between; margin-top: 20px'>" + cdioverrideedits[0].tableName + '<button class="btn btn-success">' + "Add" + "</button>" + "</h3>" ;

            // Creates the bootstrap table with the data provided
            $('table').bootstrapTable({
                data: cdioverrideedits[1].data
            });


        });

        //Populate ENFORCE FLEET EDITS Table
        $("#enforce-fleet").click(function (e) {

            // Clears table before populating
            $('table').bootstrapTable('destroy');

            // Adds the title of the table to table
            document.getElementById("addTableTitleHere").innerHTML = "<h3 style='display: flex; justify-content: space-between; margin-top: 20px'>" + enforcefleetedits[0].tableName + '<button class="btn btn-success">' + "Add" + "</button>" + "</h3>" ;

            // Creates the bootstrap table with the data provided
            $('table').bootstrapTable({
                data: enforcefleetedits[1].data
            });

        });

        //TODO Search Functionality
        $(document).ready(function(){

            $("#filter").on("keyup", function() {
               var value = $(this).val().toLowerCase();
               $("#tableBody tr").filter(function() {
                  $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
               });
            });

          
         });

        //TODO ADD/EDIT/DELETE ROWS

    </script>

</body>

</html>